<div class="card h-100 shadow-sm">
    {# Header #}
    <div class="card-header fw-bold text-truncate" title="{{ hit.title }}">
        {{ hit._highlightResult.title.value|default(hit.title) }}
    </div>

    {# Body #}
    <div class="card-body small">
        {% if hit._highlightResult.description is defined %}
            <div class="description-clamp mb-3">
                {{ hit._highlightResult.description.value|raw }}
            </div>
        {% endif %}

        <div class="meta-grid">
            {% if hit.school %}
                <div class="meta-key fw-semibold">School</div>
                <div class="meta-val">{{ hit.school }}</div>
            {% endif %}

            {% if hit.writers %}
                <div class="meta-key fw-semibold">Writer{{ hit.writersArray|length > 1 ? 's' : '' }}</div>
                <div class="meta-val">{{ hit.writers }}</div>
            {% endif %}

            {% if hit.publisher %}
                <div class="meta-key fw-semibold">Publisher{{ hit.publishersArray|length > 1 ? 's' : '' }}</div>
                <div class="meta-val">{{ hit.publisher }}</div>
            {% endif %}

            {% if hit.year %}
                <div class="meta-key fw-semibold">Year</div>
                <div class="meta-val">{{ hit.year }}</div>
            {% endif %}
        </div>
    </div>

    {# Footer #}
    <div class="card-footer d-flex justify-content-between align-items-center small">
        <span class="text-muted">
            {{ hit._highlightResult.type.value|default(hit.type) }}
            {% if hit._rankingScore != 1 %}
                â€¢ score: {{ hit._rankingScore|number_format(2) }}
            {% endif %}
        </span>

        <button
            class="btn btn-sm btn-outline-primary"
            data-action="survos--meili-bundle--json#modal"
            data-hit-id="{{ hit.id }}"
        >
            <span class="me-1 icon-wrapper">{{ icons.json|raw }}</span> JSON
        </button>
    </div>
</div>
